{% comment %}
  Leadcod Configuration File
  This file exposes dynamic configuration variables to the window object
  Similar to .env files, but for Liquid templates
  
  Only the BASE_URL is dynamic - change it here and all API endpoints will be derived from it
{% endcomment %}

{% comment %} Define the dynamic base URL - this is the only variable you need to change {% endcomment %}
{% assign APP_URL = 'https://editor-wiring-alerts-just.trycloudflare.com' %}

{% comment %} Expose variables to window object {% endcomment %}
<script>
  (function() {
    'use strict';
    
    // Create or extend the Leadcod config object
    window.LEADCOD_CONFIG = window.LEADCOD_CONFIG || {};
    
    // Dynamic Base URL - this is the only dynamic variable
    window.LEADCOD_CONFIG.APP_URL = '{{ APP_URL }}';
    window.LEADCOD_CONFIG.API_BASE_URL = '{{ APP_URL }}/api';
    
    // Helper function to get API URL with endpoint
    window.LEADCOD_CONFIG.getApiUrl = function(endpoint) {
      const baseUrl = this.API_BASE_URL.replace(/\/$/, '');
      const path = endpoint.replace(/^\//, '');
      return baseUrl + '/' + path;
    };
    
  })();
</script>
